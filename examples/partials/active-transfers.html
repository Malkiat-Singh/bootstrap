<div class="panel">
	<div class="panel-heading">
		<h3 class="panel-title">
			Active transfers
		</h3>
	</div>
	<ul class="list-group">
		<li class="list-group-item"
			ng-repeat="transfer in $ctrl.transfers"
			ng-click="$ctrl.activate(transfer.id, $event)"
			ng-class="{
				'list-group-item-danger': transfer.status == 'PAUSED',
				'list-group-item-warning': transfer.status == 'AWAITING_FUNDS',
				'list-group-item-info': transfer.status == 'PROCESSING',
				'active': $ctrl.active == transfer.id
			}">
			<div class="media" role="button">
				<div class="media-left">
					<div class="circle circle-sm circle-inverse circle-responsive">
						<transfer-type-icon type="transfer.type"></transfer-type-icon>
					</div>
				</div>
				<div class="media-body">
					<div class="media">
						<div class="media-body"
							ng-class="{'p-r-3': $ctrl.active == transfer.id}">
							<h5 class="list-group-item-heading text-max-width">
								<transfer-description
									transfer="transfer"
									currencies="$ctrl.currencies"
									source-account="transfer.sourceAccount"
									target-account="transfer.targetAccount">
								</transfer-description> &nbsp;
							</h5>
							<p class="small m-b-0 text-max-width">
								<span class="list-group-item-text">
									{{transfer.reason}}
								</span>
							</p>
						</div>
						<div class="media-right text-xs-right">
							<p class="h5">
								<span class="sr-only">Sent</span>
								{{$ctrl.currencies[transfer.source].symbol}}{{transfer.sourceAmount | number:$ctrl.currencies[transfer.source].digits}}
								<span class="hidden-xs">{{transfer.source}}</span>
							</p>
							<p class="m-b-0 small">
								<span class="sr-only">Received</span>
								{{$ctrl.currencies[transfer.target].symbol}}{{transfer.targetAmount | number:$ctrl.currencies[transfer.source].digits}}
								<span class="hidden-xs">{{transfer.target}}</span>
							</p>
						</div>
					</div>
					<div class="collapse"
						ng-attr-aria-expanded="{{$ctrl.active == transfer.id}}"
						ng-class="{'in': $ctrl.active == transfer.id}"
						ng-if="$ctrl.active == transfer.id">
						<hr  />
						<transfer-details
							transfer="transfer"
							currencies="$ctrl.currencies"
							source-account="transfer.sourceAccount"
							target-account="transfer.targetAccount">
						</transfer-details>
						<div class="row">
							<div class="col-sm-12 col-lg-3 m-b-0">
								<a class="" href="">
									Export PDF
								</a>
							</div>
						</div>
						<hr class="hidden-xs hidden-sm" />
						<transfer-actions transfer="transfer" class="m-t-2"></transfer-actions>
					</div>
				</div>
				<div class="media-right text-xs-right hidden-xs">
					<div class="btn-group pull-xs-right">
						<a href="" role="button" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
							<div class="pips">
								<div class="pip"></div>
								<div class="pip"></div>
								<div class="pip"></div>
							</div>
						</a>
						<ul class="dropdown-menu dropdown-menu-right" role="menu">
							<li><a href="">Repeat</a></li>
							<li><a href="">View details</a></li>
						</ul>
					</div>
				</div>
			</div>
		</li>
	</ul>
</div>
